(()=>{"use strict";var e={523:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colorBorders=t.getColorOfStatusCode=t.getColorOfLevel=void 0;const o=n(926),r="green";t.getColorOfLevel=e=>{if(e)switch(e.toLowerCase()){case"info":return r;case"warn":case"warning":return"yellow";case"error":return"red"}},t.getColorOfStatusCode=e=>{if(!e)return;const t=Number.parseInt(e);return t>=200&&t<300?r:t>=300&&t<400?"blue":t>=400&&t<500?"red":t>500?"#730c05":void 0},t.colorBorders=()=>{Array.from(document.querySelectorAll("table.kbn-table > tbody > tr")).forEach((e=>{var n,r;const i=null===(n=e.querySelector(o.dataTestSubj("line.meta.http_status_code")))||void 0===n?void 0:n.innerHTML,a=null===(r=e.querySelector(o.dataTestSubj("line.level")))||void 0===r?void 0:r.innerHTML,l=t.getColorOfStatusCode(i)||t.getColorOfLevel(a);l&&(e.style.borderLeft=`15px solid ${l}`)}))}},755:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeTitle=void 0,t.changeTitle=()=>{const e=document.querySelector(".dscIndexPattern__container .euiButtonEmpty__text");if(!e)return;const t=(e.innerHTML||"").replace(/^systemid-logs_/,"").replace(/_90-days$/,"");t&&(document.title=t)}},613:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convert=void 0;const n=(e,t,n=0)=>{n++;const r=o(t,n),i=t&&Array.isArray(t),a=t&&"object"==typeof t;if(i&&0===t.length)return`${e}: []`;if(a&&0===Object.keys(t).length)return`${e}: {}`;const l=e.length>0?`${e} : `:"";return a||i?`<a class="list-link" href="javascript:void(0)">${l}${i?"[":"{"}<span class="items-ph hide">1 item</span></a>${r}${i?"]":"}"}`:`${l}${r}`},o=(e,t=0)=>{const o=typeof e;return null==e?`<span class="type-${e}">${e}</span>`:"string"==o?`<span class="type-${o}">"${e}"</span>`:"number"===o||"boolean"==o?`<span class="type-${o}">${e}</span>`:[`<ul data-level="${t}" class="type-object">`,...Object.keys(e).map((o=>`<li>${n(Array.isArray(e)?"":o,e[o],t)},</li>`)),"</ul>"].join("")};t.convert=e=>n("",e)},363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.injectCSS=void 0;const o=n(560),r=n(926),i=n(560),a=["KlarnaPartition","Timestamp"],l=["line.message","line.meta.correlation_id","line.correlation_id","line.meta.http_method","line.meta.http_url","line.meta.klarna_persona_id","line.meta.http_status_code","line.meta.personaId"],c=["Timestamp","line.meta.responseTime"],s=["_index","_source"],d=["_type","_score","_id"];t.injectCSS=()=>{o.addStyles(`\n    ${i.COPY_ICON_STYLES}\n\n    .euiBody--collapsibleNavIsDocked {\n      padding-left: 40px !important;\n    }\n\n    .euiCollapsibleNav {\n      width: 40px !important;\n    }\n\n    ${r.dataTestSubjList(l)} {\n      font-weight: bold;\n      border-bottom: 1px solid #ccc;\n    }\n\n    ${r.dataTestSubjList(a)} {\n      font-weight: bold;\n    }\n\n    ${r.dataTestSubjList(s)} {\n      color: #ccc !important;\n    }\n\n    ${r.dataTestSubjList(c)} {\n      color: green !important;\n    }\n\n    ${r.trDataTestSubjList(d)} {\n      display:none;\n    }\n\n    .json-viewer {\n      color: #000;\n      max-height: 600px;\n      overflow: scroll;\n    }\n\n    .json-viewer ul {\n      list-style-type: none;\n      margin: 0;\n      margin: 0 0 0 1px;\n      border-left: 1px dotted #ccc;\n      padding-left: 2em;\n    }\n\n    .json-viewer .hide {\n      display: none;\n    }\n\n    .json-viewer .type-string {\n      color: #0B7500;\n    }\n\n    .json-viewer .type-date {\n      color: #CB7500;\n    }\n\n    .json-viewer .type-boolean {\n      color: #1A01CC;\n      font-weight: bold;\n    }\n\n    .json-viewer .type-number {\n      color: #1A01CC;\n    }\n\n    .json-viewer .type-null, .json-viewer .type-undefined {\n      color: #90a;\n    }\n\n    .json-viewer .items-ph {\n      color: #aaa;\n      padding: 0 1em;\n    }\n\n    .json-viewer .items-ph:hover {\n      text-decoration: underline;\n    }\n\n\n    .json-viewer a.list-link {\n      color: #000;\n      text-decoration: none;\n      position: relative;\n    }\n\n    .json-viewer a.list-link:before {\n      content: "";\n    }\n  `)}},204:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expand=t.forceCollapseAll=t.forceExpandAll=void 0;const o=n(266),r=()=>Array.from(document.querySelectorAll(".euiButtonIcon.euiButtonIcon--text"));t.forceExpandAll=()=>{console.log("ðŸ”½ forceExpandAll"),r().filter((e=>"false"===e.getAttribute("aria-expanded"))).forEach((e=>o.runAsync((()=>{var t;return null===(t=e.click)||void 0===t?void 0:t.call(e)}))))},t.forceCollapseAll=()=>{console.log("â–¶ï¸ forceCollapseAll"),r().filter((e=>"true"===e.getAttribute("aria-expanded"))).forEach((e=>o.runAsync((()=>{var t;return null===(t=e.click)||void 0===t?void 0:t.call(e)}))))},t.expand=()=>{r().filter((e=>"true"!==e.getAttribute("aria-custom-expanded"))).forEach((e=>{o.runAsync((()=>{var t;null===(t=e.click)||void 0===t||t.call(e),e.setAttribute("aria-custom-expanded","true")}))}))}},473:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.guard=void 0;const n="CHAOS_SEARCH_OPTIONS_KEY";t.guard=(e,t)=>new Promise(((o,r)=>{chrome.storage.local.get([n],(r=>{var i;if(!1===(null===(i=r[n])||void 0===i?void 0:i[e]))return o(void 0);o(t())}))}))},631:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fixIndexPatternSelector=void 0,t.fixIndexPatternSelector=()=>{var e;const t=null===(e=document.querySelector('.euiSelectable[data-test-subj="indexPattern-switcher"'))||void 0===e?void 0:e.parentElement;t&&(t.style.width="520px")}},899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.monkeyPatchFetch=void 0,t.monkeyPatchFetch=()=>{var e,t,n;e=chrome.runtime.getURL("monkey-patch-fetch.js"),t=document.getElementsByTagName("body")[0],(n=document.createElement("script")).setAttribute("type","text/javascript"),n.setAttribute("src",e),t.appendChild(n)}},17:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.prettifyJSON=void 0;const o=n(266),r=n(613),i=n(926);t.prettifyJSON=()=>{const e=document.querySelectorAll(i.dataTestSubj("_rawJson"));Array.from(e).forEach((e=>o.runAsync((()=>{var t,n;if(!e||"true"===e.getAttribute("aria-custom-prettified"))return;e.setAttribute("aria-custom-prettified","true");const o=e,i=JSON.parse(o.innerHTML);if(!i)return;const a=`<pre class='json-viewer'>${r.convert(i)}</pre>`;o.innerHTML=a;const l=null===(t=null==o?void 0:o.previousSibling)||void 0===t?void 0:t.querySelector(".euiButtonIcon.euiButtonIcon--primary");l&&"true"!==(null==o?void 0:o.getAttribute("aria-custom-expanded"))&&(null==o||o.setAttribute("aria-custom-expanded","true"),null===(n=l.click)||void 0===n||n.call(l))}))))}},926:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trDataTestSubjList=t.dataTestSubjList=t.dataTestSubj=void 0,t.dataTestSubj=e=>`.kbnDocViewer__value[data-test-subj="tableDocViewRow-${e}-value"]`,t.dataTestSubjList=e=>e.map(t.dataTestSubj).join(","),t.trDataTestSubjList=e=>e.map((e=>`tr[data-test-subj="tableDocViewRow-${e}"]`)).join(",")},53:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CLASS_NAMES=void 0,t.CLASS_NAMES={copy_icon:"chaos-search-speedup-ext__copy_icon"}},522:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.attachCopyIconToNode=t.markHasCopyIcon=t.doesNodeHaveCopyIcon=t.createCopyIcon=t.copyToClipboard=void 0;const o=n(53);t.copyToClipboard=e=>{const t=document.createElement("textarea");t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.opacity="0",t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)},t.createCopyIcon=e=>{const n=document.createElement("span");return n.className=o.CLASS_NAMES.copy_icon,n.textContent=" ðŸ“‹",n.style.cursor="pointer",n.style.zIndex="10000",n.onclick=()=>{setTimeout((()=>t.copyToClipboard(e)),0)},n},t.doesNodeHaveCopyIcon=e=>"1"===(null==e?void 0:e.getAttribute("extension__has_copy_icon")),t.markHasCopyIcon=e=>null==e?void 0:e.setAttribute("extension__has_copy_icon","1"),t.attachCopyIconToNode=(e,n)=>{var o;t.doesNodeHaveCopyIcon(e)||(t.markHasCopyIcon(e),console.log("ðŸ“‹ inserting copy icon"),null===(o=e.parentNode)||void 0===o||o.insertBefore(n,e.nextSibling))}},338:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(522),t),r(n(266),t),r(n(529),t),r(n(780),t),r(n(865),t)},266:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.runAsync=void 0,t.runAsync=e=>new Promise(((t,n)=>{try{setTimeout((()=>{t(e())}),0)}catch(e){n(e)}}))},529:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.runPeriodically=void 0,t.runPeriodically=(e,t)=>{const n={id:void 0},o=()=>{t(),n.id=setTimeout(o,e)};return o(),n}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.waitForElement=void 0,t.waitForElement=(e,{token:t,timeoutMs:n}={})=>{const o=n||1e4,r=+new Date;return new Promise(((n,i)=>{const a=()=>{if(null==t?void 0:t.isCancelled)return n(void 0);const l=document.querySelector(e);return l?n(l):+new Date-r>=o?i(`Timeout, selector: ${e}`):void setTimeout(a,100)};a()}))}},560:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addStyles=t.COPY_ICON_STYLES=void 0;const o=n(53);t.COPY_ICON_STYLES=`\n.${o.CLASS_NAMES.copy_icon} {\n  cursor: pointer;\n  display: inline-block;\n  transition: transform 0.1s ease;\n  padding-right: 3px;\n  padding-left: 3px;\n}\n\n.${o.CLASS_NAMES.copy_icon}:active {\n  transform: scale(0.7);\n}\n`,t.addStyles=e=>{const t=document.createElement("style");t.appendChild(document.createTextNode(e)),(document.head||document.getElementsByTagName("head")[0]).append(t)}},865:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0,t.throttle=(e,t)=>{let n;return{trigger:(...o)=>{clearTimeout(n),n=setTimeout((()=>t(...o)),e)},cancel:()=>{clearTimeout(n)}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(()=>{const e=n(338),t=n(363),o=n(926),r=n(204),i=n(523),a=n(755),l=n(631),c=n(899),s=n(473),d=n(17),u=()=>{Array.from(document.querySelectorAll(o.dataTestSubjList(["line.message","line.correlation_id","line.meta.correlation_id","line.meta.klarna_persona_id","line.meta.personaId","line.meta.http_url"]))).filter(Boolean).forEach((t=>{e.attachCopyIconToNode(t,e.createCopyIcon(t.innerHTML||""))}))};(()=>{c.monkeyPatchFetch(),t.injectCSS(),e.runPeriodically(1e3,(()=>{const e=document.querySelector(".euiPage .euiButton--primary.euiButton--fill");null==e||e.click()})),chrome.runtime.onMessage.addListener((e=>{"CHAOS_SEARCH_EXPAND_ALL"===(null==e?void 0:e.type)&&r.forceExpandAll(),"CHAOS_SEARCH_COLLAPSE_ALL"===(null==e?void 0:e.type)&&r.forceCollapseAll()}));const n=e.throttle(1e3,u),o=e.throttle(200,(()=>{a.changeTitle(),l.fixIndexPatternSelector(),s.guard("chaos-search-expand-lines",r.expand),s.guard("chaos-search-prettify-json",d.prettifyJSON),s.guard("chaos-search-color-borders",i.colorBorders),s.guard("chaos-search-copy-icons",(()=>n.trigger()))}));e.waitForElement(".coreSystemRootDomElement",{timeoutMs:6e6}).then((e=>{null==e||e.addEventListener("DOMNodeInserted",(()=>o.trigger()))}))})()})()})();